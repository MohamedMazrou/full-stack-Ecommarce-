<header class="fixed top-0 z-50 w-full bg-white md:border-b md:shadow-sm">
  <p
    class="flex h-10 items-center justify-center bg-zinc-950 px-4 text-sm font-medium text-white sm:px-6 lg:px-8"
  >
    Get free delivery on orders over $100
  </p>

  <nav aria-label="Top" class="mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center">
      <!-- Mobile menu toggle, controls the 'mobileMenuOpen' state. -->
      <button
        (click)="showlistMobile()"
        type="button"
        class="z-50 relative rounded-md bg-white p-2 text-gray-600 lg:hidden"
      >
        <span class="absolute -inset-0.5"></span>
        <span class="sr-only">Open menu</span>
        <svg
          class="size-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          aria-hidden="true"
          data-slot="icon"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
          />
        </svg>
      </button>

      <!-- links -->
      <div class="hidden lg:flex justify-center gap-8 items-center">
        @for (item of ArrNav; track $index) {

        <button
          type="button"
          [routerLink]="item"
          [routerLinkActive]="'text-zinc-950'"
          class="relative flex items-center justify-center text-sm font-medium text-gray-700 transition-colors duration-200 ease-out hover:text-zinc-950 border-b lg:border-none w-full pb-2"
          aria-expanded="false"
        >
          {{ item }}

          <!-- Open: "bg-indigo-600", Closed: "" -->
          <span
            class="absolute inset-x-0 -bottom-px z-30 h-0.5 transition duration-200 ease-out"
            aria-hidden="true"
          ></span>
        </button>
        }
      </div>

      <!-- Logo -->
      <div class="mx-auto rounded-full shadow-sm border-zinc-950 border">
        <a>
          <span class="sr-only">Your Company</span>
          <img
            class="h-10 w-auto"
            src="../../../assets/logoEcommarce.png"
            alt=""
          />
        </a>
      </div>

      <!-- Card and user -->
      <div class="flex items-center justify-around">
        <!-- Search -->
        <form class="md:flex items-center hidden">
          <label for="simple-search" class="sr-only">Search</label>
          <div class="relative w-full">
            <div
              class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
            >
              <svg
                class="w-4 h-4 text-gray-500 dark:text-gray-400"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 18 20"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"
                />
              </svg>
            </div>
            <!-- input search -->
            <input
              #inp
              (keyup)="_ShowOvarLayService.statusShow(inp.value)"
              (focus)="VariableShowMenuUser = false"
              type="text"
              id="simple-search"
              class="border-b outline-none border-zinc-950 text-gray-900 text-sm block w-full ps-10 p-2"
              placeholder="Search the product..."
              required
            />
          </div>
          <button
            type="submit"
            class="p-2.5 ms-2 text-sm font-medium text-white bg-zinc-600 rounded-lg border transition duration-300 border-zinc-600 hover:bg-zinc-950 focus:ring-4 focus:outline-none focus:ring-zinc-950"
          >
            <svg
              class="w-4 h-4"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 20 20"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"
              />
            </svg>
            <span class="sr-only">Search</span>
          </button>
        </form>

        <!-- Cart -->
        <div
          (click)="_ShowOvarLayService.show_OvarLay = false"
          [routerLink]="['/user/cart/']"
          [routerLinkActive]="'text-zinc-950'"
          class="ml-4 flow-root lg:ml-6 cursor-pointer"
        >
          <a class="group -m-2 flex items-center p-2">
            <svg
              [routerLinkActive]="'text-zinc-950'"
              class="size-6 shrink-0 text-gray-400 transition duration-300 group-hover:text-zinc-950"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              aria-hidden="true"
              data-slot="icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"
              />
            </svg>
            <span
              [routerLinkActive]="'text-zinc-950'"
              class="ml-2 text-sm font-medium text-gray-700 group-hover:text-zinc-950"
              >{{ _AddToCartService.countOFCart || 0 }}</span
            >
            <span class="sr-only">items in cart, view bag</span>
          </a>
        </div>

        <!-- user -->

        <button
          [ngClass]="{
            flex: NameEmailService.imageEmail != '',
            hidden:
              NameEmailService.imageEmail === 'undefined' ||
              NameEmailService.imageEmail === 'null'
          }"
          class="outline-none items-center"
          (click)="showMenuUser()"
        >
          <img
            class="h-7 rounded-full ml-4 hover:zinc-950"
            [src]="NameEmailService.imageEmail"
            alt=""
          />
        </button>

        <button
          [ngClass]="{
            flex:
              NameEmailService.imageEmail === 'undefined' ||
              NameEmailService.imageEmail === 'null',
            hidden:
              NameEmailService.imageEmail !== 'undefined' &&
              NameEmailService.imageEmail !== 'null'
          }"
          class="outline-none items-center"
          (click)="showMenuUser()"
        >
          <img
            class="h-6 rounded-full ml-4 hover:zinc-950"
            src="../../../assets/circle-user.png "
            alt=""
          />
        </button>
      </div>
    </div>
  </nav>
</header>

<!-- menu -->
<div
  [ngClass]="{'scale-100':VariableShowMenuUser,}"
  class="z-50 scale-0 transition duration-300 w-full md:w-1/3 lg:w-1/6 shadow-md fixed top-28 right-0 my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg"
  id="user-dropdown"
>
  <div class="px-4 py-3">
    <span class="block text-sm text-gray-900 dark:text-white capitalize"
      >your email</span
    >
    <span class="block text-sm text-gray-500 truncate">{{
      NameEmailService.email
    }}</span>
  </div>
  <ul class="py-2" aria-labelledby="user-menu-button">
    <li>
      <a (click)="VariableShowMenuUser = false"
        [routerLink]="['/user/OrderProgress']"
        class="block cursor-pointer px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
        >Order Progress</a
      >
    </li>

    <li>
      <a
        (click)="logout()"
        class="block cursor-pointer px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
        >Log out</a
      >
    </li>
  </ul>
</div>

<!-- list phone -->
<div
  [ngClass]="{
    'translate-x-0': VariableShowListMobile,
    'translate-x-[-100vw]': !VariableShowListMobile
  }"
  class="lg:hidden transition duration-300 md:ease-in flex-col justify-center fixed top-0 left-0 items-center bg-white h-screen w-full md:w-1/2 p-4 z-50 shadow-md lg:shadow-none"
>
  @for (item of ArrNav; track $index) {

  <button
    type="button"
    [routerLink]="item"
    [routerLinkActive]="'text-zinc-950'"
    (click)="showlistMobile()"
    class="py-4 relative flex items-center justify-center text-sm font-medium text-gray-700 transition-colors duration-200 ease-out hover:text-zinc-950 border-b lg:border-none w-full pb-2"
    aria-expanded="false"
  >
    {{ item }}

    <!-- Open: "bg-indigo-600", Closed: "" -->
    <span
      class="absolute inset-x-0 -bottom-px z-30 h-0.5 transition duration-200 ease-out"
      aria-hidden="true"
    ></span>
  </button>
  }

  <button
    type="button"
    (click)="showlistMobile()"
    class="fixed right-0 top-1/2 font-medium lg:border-none p-4"
    aria-expanded="false"
  >
    <svg
      class="w-6 h-6 text-gray-700"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="m15 19-7-7 7-7"
      />
    </svg>
  </button>
</div>
<!-- Search mobile-->
<form
  class="flex p-4 items-center fixed top-24 w-full bg-white z-40 md:hidden shadow-sm border-b"
>
  <label for="simple-search" class="sr-only">Search</label>
  <div class="relative w-full">
    <div
      class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
    >
      <svg
        class="w-4 h-4 text-gray-500 dark:text-gray-400"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 18 20"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"
        />
      </svg>
    </div>
    <input
      type="text"
      #inpM
      (keyup)="_ShowOvarLayService.statusShow(inpM.value)"
      (focus)="VariableShowMenuUser = false"
      class="border-b outline-none border-zinc-950 text-gray-900 text-sm block w-full ps-10 p-2"
      placeholder="Search the product..."
      required
    />
  </div>
  <button
    type="submit"
    class="p-2.5 ms-2 text-sm font-medium text-white bg-zinc-600 rounded-lg border transition duration-300 border-zinc-600 hover:bg-zinc-950 focus:ring-4 focus:outline-none focus:ring-zinc-950"
  >
    <svg
      class="w-4 h-4"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 20 20"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"
      />
    </svg>
    <span class="sr-only">Search</span>
  </button>
</form>
